description: initializes and starts the webapp locally on port 80 so it can be hacked on.
name: dev
inputs:
  srcDir:
    dir:
      default: ..
run:
  serial:
    - op:
        inputs:
          srcDir:
        outputs:
          srcDir:
        ref: init
    - container:
        cmd: [ yarn, start ]
        image: { ref: 'node:11.2.0-alpine' }
        dirs:
          /src: $(srcDir)
        ports:
          80: 80
        workDir: /src/webapp
